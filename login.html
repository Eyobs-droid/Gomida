<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up / Log In</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    <meta name="theme-color" content="#f19e36" />

    <link rel="icon" type="image/x-icon" href="./assets/favicon/favicon.ico">
</head>
<body class="login-page">

    <div class="haeder">
        <a href="index.html">
            <svg width="25px" height="25px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22 11.9299H2" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8.00009 19L2.84009 14C2.5677 13.7429 2.35071 13.433 2.20239 13.0891C2.05407 12.7452 1.97754 12.3745 1.97754 12C1.97754 11.6255 2.05407 11.2548 2.20239 10.9109C2.35071 10.567 2.5677 10.2571 2.84009 10L8.00009 5" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        </a>

    </div>

    <div class="login-coins">
        <img src="./assets/images/apple.svg" width="50px">
        <span class="login-coins-count"></span>
    </div>

    <div class="login-page-detail">
        <span>Sign up or log in to save your progress.</span>
    </div>

    <div class="login-form">
        <!-- Login Form -->
        <form id="loginForm" action="process_login.php" method="POST">
            <input type="hidden" name="telegram_id" id="login_telegram_id" value="">
            <label for="login_email">Email</label>
            <input type="email" name="login_email" id="login_email" required>

            <label for="login_password">Password</label>
            <input type="password" name="login_password" id="login_password" required>

            <input class="submit-button" type="submit" value="Log In">
        </form>

        <!-- Sign Up Form -->
        <form id="signupForm" action="process_form.php" method="POST">
            <input type="hidden" name="telegram_id" id="signup_telegram_id" value="">
            <label for="name">Name</label>
            <input type="text" name="name" id="name" required>

            <label for="email">Email</label>
            <input type="email" name="email" id="email" required>

            <label for="password">Password</label>
            <input type="password" name="password" id="password" required>

            <label for="confirm">Confirm Password</label>
            <input type="password" name="confirm" id="confirm" required>

            <input type="hidden" name="coins" id="coins">

            <input class="submit-button" type="submit" value="Sign Up">
        </form>

    </div>

    <script>
        let coins = localStorage.getItem('coins')
        document.querySelector('.login-coins-count').textContent = coins;

        // Function to extract the Telegram ID from the URL
        function getTelegramIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('telegram_id');
        }

        // Set the Telegram ID in both forms
        function setTelegramId() {
            const telegramId = getTelegramIdFromUrl();
            if (telegramId) {
                document.getElementById('login_telegram_id').value = telegramId;
                document.getElementById('signup_telegram_id').value = telegramId;
            } else {
                console.log('Telegram ID not found in URL.');
                // Handle the case where there's no Telegram ID in the URL (optional)
            }
        }

        // Call setTelegramId when the page loads
        window.onload = setTelegramId;
    </script>

    <script src="./assets/js/charge.js"></script>
</body>
</html>
